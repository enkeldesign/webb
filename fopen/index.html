<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Färöarna Open 2026</title>
    <!-- Link our stylesheet -->
    <link rel="stylesheet" href="styles.css">
    <!-- Include custom fonts via Google Fonts.  Teko for headings and Inter for body text -->
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app" class="container">
        <!-- Header / Hero card -->
        <header id="header" class="hero">
            <div class="hero-left">
                <h1 class="title">Färöarna<br>Open&nbsp;2026</h1>
            </div>
            <!-- Replace backup and reset buttons with a hamburger menu -->
            <div class="hero-right">
                <div class="menu">
                    <button id="menu-toggle" class="menu-toggle">☰</button>
                    <div id="menu-dropdown" class="menu-dropdown" hidden>
                        <button id="backup-btn" class="btn menu-item">Backup</button>
                        <button id="reset-btn" class="btn menu-item">Nollställ</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main content area -->
        <main id="content">
            <!-- Select participants stage -->
            <section id="select-stage" class="stage">
                <h2>Välj deltagare</h2>
                <div class="controls">
                    <label for="num-slots-select">Antal platser:</label>
                    <select id="num-slots-select">
                        <!-- Options filled from JS (12–22) -->
                    </select>
                    <span class="selected-counter">Valda: <span id="selected-count">0</span> / <span id="slots-total">0</span></span>
                </div>
                <button id="draw-btn" class="btn btn-primary" disabled>Lottning</button>
                <p id="select-hint" class="hint"></p>
                <div id="nation-list" class="nation-list"></div>
            </section>

            <!-- Draw stage: assign teams to groups -->
            <section id="draw-stage" class="stage" hidden>
                <h2>Lottning – tilldela grupper</h2>
                <div class="draw-instructions">
                    Klicka på en nation och sedan på en gruppplats för att tilldela. Du kan även dra och släppa.
                </div>
                <div id="selected-nations" class="selected-nations"></div>
                <div id="groups-container" class="groups-container"></div>
                <div class="draw-actions">
                    <button id="fill-all-draw" class="btn btn-secondary debug">Fyll i alla (debug)</button>
                    <button id="start-tournament-btn" class="btn btn-primary" disabled>Starta turnering</button>
                </div>
            </section>

            <!-- Tournament stage -->
            <section id="tournament-stage" class="stage" hidden>
                <!-- Now playing area -->
                <div id="now-playing" class="now-playing">
                    <h2>Kör nu</h2>
                    <div id="current-matches" class="current-matches"></div>
                </div>
                <!-- Groups rankings area -->
                <div id="groups-rankings" class="groups-rankings"></div>
                <!-- Marathon button -->
                <div class="marathon-section">
                    <button id="marathon-btn" class="btn btn-secondary">Visa maratontabell</button>
                </div>
                <!-- Full schedule area -->
                <div id="schedule" class="schedule">
                <h2>Spelschema och resultat</h2>
                    <div id="schedule-list"></div>
                </div>
                <div class="tournament-actions">
                    <button id="auto-results" class="btn btn-secondary debug">Fyll i resultat (debug)</button>
                </div>
            </section>
        </main>

        <!-- Marathon modal -->
        <div id="marathon-modal" class="modal" hidden>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Maratontabell</h2>
                    <button id="close-marathon" class="btn btn-secondary">Stäng</button>
                </div>
                <div id="marathon-table" class="marathon-table"></div>
            </div>
        </div>
    </div>

    <!-- Toast notification for match results -->
    <div id="toast" class="toast" hidden></div>

    <!-- Modal for starting playoffs -->
    <div id="start-playoff-modal" class="modal" hidden>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Starta slutspel</h2>
            </div>
            <p>Är du säker på att starta slutspelet?</p>
            <div class="modal-actions" style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                <button id="start-playoff-confirm" class="btn btn-primary">Ja</button>
                <button id="start-playoff-cancel" class="btn btn-secondary">Nej</button>
            </div>
        </div>
    </div>

    <!-- Load global data definitions before the main script.  This file defines
         RULESET, MARATHON and HISTORIK on the window object so that
         main.js can access them without using ES module imports. -->
    <script src="data/global-data.js"></script>
    <!-- Main script for the app -->
    <script src="main.js"></script>
</body>
</html>
